# Windows 安装 Minikube
先在 BIOS 里面启用 VT-X/AMD-v

```
choco install minikube
choco install virtualbox
minikube start
```

提示如下
```
Starting local Kubernetes v1.13.2 cluster...
Starting VM...
Getting VM IP address...
E0215 16:43:41.990342    4524 start.go:243] Error parsing version semver:  Version string empty
Moving files into cluster...
Downloading kubeadm v1.13.2
Downloading kubelet v1.13.2
Finished Downloading kubeadm v1.13.2
Finished Downloading kubelet v1.13.2
Setting up certs...
Connecting to cluster...
Setting up kubeconfig...
Stopping extra container runtimes...
Starting cluster components...
Verifying kubelet health ...
Verifying apiserver health ...
Kubectl is now configured to use the cluster.
Loading cached images from config file.


Everything looks great. Please enjoy minikube!
```

```
kubectl cluster-info
```
响应如下

```
Kubernetes master is running at https://192.168.99.100:8443
KubeDNS is running at https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
```

```
ipconfig 
```

响应如下
```
...
以太网适配器 VirtualBox Host-Only Network:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::9171:516:81a6:d881%10
   IPv4 地址 . . . . . . . . . . . . : 192.168.56.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :

以太网适配器 VirtualBox Host-Only Network #2:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::2185:7d35:f129:bf9%34
   IPv4 地址 . . . . . . . . . . . . : 192.168.99.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :
...
```

下面那个 192.168.99.1 应该就是虚拟机器的主机了？

# Windows 进入minikube的虚拟机
方案1：

```
minikube ssh
```

提示

```
                         _             _
            _         _ ( )           ( )
  ___ ___  (_)  ___  (_)| |/')  _   _ | |_      __
/' _ ` _ `\| |/' _ `\| || , <  ( ) ( )| '_`\  /'__`\
| ( ) ( ) || || ( ) || || |\`\ | (_) || |_) )(  ___/
(_) (_) (_)(_)(_) (_)(_)(_) (_)`\___/'(_,__/'`\____)

$ echo $USER
docker
```
可见用户名是docker。

方案2：

打开Virtual Box，然后双击进入。

用户名：root

密码：不需要输入 。。。 

# Windows 安装helm
```
choco install kubernetes-helm

helm init
```

响应
```
Creating C:\Users\lisn\.helm
Creating C:\Users\lisn\.helm\repository
Creating C:\Users\lisn\.helm\repository\cache
Creating C:\Users\lisn\.helm\repository\local
Creating C:\Users\lisn\.helm\plugins
Creating C:\Users\lisn\.helm\starters
Creating C:\Users\lisn\.helm\cache\archive
Creating C:\Users\lisn\.helm\repository\repositories.yaml
Adding stable repo with URL: https://kubernetes-charts.storage.googleapis.com
Adding local repo with URL: http://127.0.0.1:8879/charts
$HELM_HOME has been configured at C:\Users\lisn\.helm.

Tiller (the Helm server-side component) has been installed into your Kubernetes Cluster.

Please note: by default, Tiller is deployed with an insecure 'allow unauthenticated users' policy.
To prevent this, run `helm init` with the --tiller-tls-verify flag.
For more information on securing your installation see: https://docs.helm.sh/using_helm/#securing-your-helm-installation
Happy Helming!
```

然后稍等一会，等tiller起来

# Windows 下执行helm chart
```
git clone https://github.com/bitnami/charts.git
cd charts
helm install bitnami/zookeeper
```

响应如下
```
NAME:   fuzzy-cricket
LAST DEPLOYED: Fri Feb 15 17:08:51 2019
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME                              TYPE       CLUSTER-IP      EXTERNAL-IP  PORT(S)                     AGE
fuzzy-cricket-zookeeper-headless  ClusterIP  None            <none>       2181/TCP,2888/TCP,3888/TCP  0s
fuzzy-cricket-zookeeper           ClusterIP  10.100.170.241  <none>       2181/TCP,2888/TCP,3888/TCP  0s

==> v1beta2/StatefulSet
NAME                     DESIRED  CURRENT  AGE
fuzzy-cricket-zookeeper  1        1        0s

==> v1/Pod(related)
NAME                       READY  STATUS   RESTARTS  AGE
fuzzy-cricket-zookeeper-0  0/1    Pending  0         0s


NOTES:


** Please be patient while the chart is being deployed **

ZooKeeper can be accessed via port 2181 on the following DNS name from within your cluster:

    fuzzy-cricket-zookeeper.default.svc.cluster.local

To connect to your ZooKeeper server run the following commands:

    export POD_NAME=$(kubectl get pods --namespace default -l "app=zookeeper" -o jsonpath="{.items[0].metadata.name}")
    kubectl exec -it $POD_NAME -- zkCli.sh

To connect to your ZooKeeper server from outside the cluster execute the following commands:

    kubectl port-forward --namespace default svc/fuzzy-cricket-zookeeper 2181:2181 &
    zkCli.sh 127.0.0.1:2181
```

