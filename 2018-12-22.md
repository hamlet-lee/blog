# OpenVPN Setup
参考：https://blog.csdn.net/zzjiwang/article/details/78120098
```shell
wget https://mirrors.aliyun.com/epel/epel-release-latest-7.noarch.rpm
rpm -ivh epel-release-latest-7.noarch.rpm
# 我安装的时候，被提示google-chrome库不可达等问题，所以根据提示disable了
yum --disablerepo=google-chrome  install -y openvpn
# 我安装的时候，被提示google-chrome库不可达等问题，所以根据提示disable了
yum --disablerepo=google-chrome install -y easy-rsa
# 拷贝示例配置
cp -a /usr/share/doc/openvpn-*/sample/sample-config-files/server.conf /etc/openvpn
# 复制相关文件
cp -a /usr/share/easy-rsa/ /etc/openvpn
```
修改配置，取消注释
```
push "redirect-gateway def1 bypass-dhcp"
push "dhcp-option DNS 208.67.222.222"
push "dhcp-option DNS 208.67.220.220"
comp-lzo
user nobody
group nobody
```
增加注释
```
# tls-auth ta.key 0 # This file is secret
```

配置vars
```
vi /etc/openvpn/easy-rsa/3.0.3/vars
```

```shell
export KEY_COUNTRY="US"

export KEY_PROVINCE="CA"

export KEY_CITY="SanFrancisco"

export KEY_ORG="Fort-Funston"

export KEY_EMAIL="me@myhost.mydomain"

export KEY_OU="MyOrganizationalUnit"



# X509 Subject Field

export KEY_NAME="EasyRSA"
```

参考：https://www.cnblogs.com/dorothychai/p/4434624.html
```shell
source ./vars
./easyrsa init-pki
./easyrsa build-ca
```
输入passphrase1, common name 1

```shell
./easyrsa gen-req server nopass
```
输入common name 2 (另一个)

```shell
./easyrsa sign server server
```
要求输入passphrase1

```
./easyrsa gen-dh
```
