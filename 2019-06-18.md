# Presto 的 set session 不能通过JDBC Client进行调用
```sql
set session query_max_execution_time = '1d';
select 1; 
```
使用JDBC方式调用，报错：
```text
ERROR: java.sql.SQLFeatureNotSupportedException: SET/RESET SESSION is not supported via JDBC. Use the setSessionProperty() method on PrestoConnection.
```

即，只能通过 PrestoConnection 对象调用。
它的实际实现，看起来是在客户端保存了一个Map, 每次Query时，传到服务端。

```java
    /**
     * Adds a session property (experimental).
     */
    public void setSessionProperty(String name, String value)
    {
        requireNonNull(name, "name is null");
        requireNonNull(value, "value is null");
        checkArgument(!name.isEmpty(), "name is empty");

        CharsetEncoder charsetEncoder = US_ASCII.newEncoder();
        checkArgument(name.indexOf('=') < 0, "Session property name must not contain '=': %s", name);
        checkArgument(charsetEncoder.canEncode(name), "Session property name is not US_ASCII: %s", name);
        checkArgument(charsetEncoder.canEncode(value), "Session property value is not US_ASCII: %s", value);

        sessionProperties.put(name, value);
    }

```
```java

    StatementClient startQuery(String sql, Map<String, String> sessionPropertiesOverride)
    {
        String source = firstNonNull(clientInfo.get("ApplicationName"), "presto-jdbc");
        Optional<String> traceToken = Optional.ofNullable(clientInfo.get("TraceToken"));
        Iterable<String> clientTags = Splitter.on(',').trimResults().omitEmptyStrings()
                .split(nullToEmpty(clientInfo.get("ClientTags")));

        Map<String, String> allProperties = new HashMap<>(sessionProperties);
        allProperties.putAll(sessionPropertiesOverride);
```
